(function(){if(c){return}var c={};var h,l,a,e,d;c.version=function(){return"0.2.3"};c.options={layout:{"padding-top":1,"padding-right":1,"padding-bottom":1,"padding-left":1,"background-color":"#FFF","background-alpha":1,"logo-enabled":false,"logo-width":50,"logo-height":23,"logo-position":"top-right",speed:300,},grid:{"padding-top":10,"padding-right":10,"padding-bottom":10,"padding-left":10,"grid-width":1,"grid-color":"#CCC","grid-alpha":0.5,"axis-width":1,"axis-color":"#999","axis-alpha":1,"axis-dot-size":2.4,"border-width":1,"border-color":"#AAA","border-alpha":1,"border-radius":4,"background-color":"#FFF","background-alpha":1,"vertical-label-margin":5,"vertical-label-spacing":40,"vertical-label-size":12,"vertical-label-color":"#555","vertical-name-size":12,"vertical-name-color":"#000","horizontal-label-margin":5,"horizontal-label-spacing":10,"horizontal-label-size":12,"horizontal-label-color":"#555","horizontal-name-size":12,"horizontal-name-color":"#000"},legend:{"legend-enabled":true,"legend-position":"top-left",width:undefined,height:undefined,"margin-top":10,"margin-right":10,"margin-bottom":10,"margin-left":10,"padding-top":5,"padding-right":8,"padding-bottom":5,"padding-left":8,"indicator-size":14,"indicator-border-width":1,"indicator-margin-left":0,"indicator-margin-right":10,"indicator-margin-top":2,"indicator-margin-bottom":2,"indicator-sector-angle":60,"label-color":undefined,"label-alpha":1,"label-size":12,"border-width":1,"border-color":"#CCC","border-alpha":1,"border-radius":4,"background-color":"#FDFDFD","background-alpha":1},tooltip:{"padding-top":6,"padding-right":8,"padding-bottom":6,"padding-left":8,"border-width":1,"border-color":"#CCC","border-alpha":1,"border-radius":4,"title-text-color":undefined,"title-text-alpha":1,"title-text-weight":"bold","title-text-size":12,"line-spacing":2,"hide-after":5000,"content-text-color":"#999","content-text-alpha":1,"content-text-weight":"normal","content-text-size":12,"background-color":"#FDFDFD","background-alpha":1,"horizontal-offset":0,"vertical-offset":-10},linechart:{"padding-top":30,"padding-right":90,"padding-bottom":20,"padding-left":30,"line-width":2,"circle-radius":5,"custom-circle":undefined,"label-size":12,"vertical-label-count":10,"vertical-bar-width":5},bubblechart:{"padding-top":40,"padding-right":100,"padding-bottom":40,"padding-left":60,"circle-border-width":2,"circle-min-radius":15,"circle-max-radius":40,"label-size":12,"horizontal-label-count":10,"horizontal-bar-width":5,"vertical-label-count":5,"vertical-bar-width":5},barchart:{"padding-top":30,"padding-right":30,"padding-bottom":20,"padding-left":30,"group-margin":40,"bar-margin":4,"vertical-label-count":10,"vertical-bar-width":5},piechart:{"size-factor":0.9,"sector-border-width":1,"hole-radius":0,"label-size":11,"label-distance":5,"label-bar-width":1,"label-bar-color":"#555","label-bar-alpha":1,"label-bar-length1":5,"label-bar-length2":10,"horizontal-offset":0,"vertical-offset":0},radarchart:{"size-factor":0.9,"outer-border-width":1,"outer-border-color":"#999","outer-border-alpha":1,"outer-background-color":"#FFF","outer-background-alpha":1,"inner-border-width":1,"inner-border-color":"#CCC","inner-border-alpha":1,"inner-background-color":"#F9F9F9","inner-background-alpha":1,"axis-width":2,"axis-color":"#999","axis-alpha":1,"circle-min-radius":30,"circle-border-width":1.5,"circle-background-alpha":0.3,"label-distance":15,"label-color":"#555","label-size":12,"label-rotation":false,"horizontal-offset":0,"vertical-offset":0},heatmap:{"horizontal-margin":4,"vertical-margin":4,"box-border-width":1,"label-size":12,"label-color":"#FFF","label-alpha":1,"horizontal-count":undefined,"vertical-count":undefined,color:[{color:"#339999","dark-alpha":1,"light-alpha":0.45},{color:"#99CC99","dark-alpha":1,"light-alpha":0.45},{color:"#99CC33","dark-alpha":1,"light-alpha":0.45},{color:"#CCCC33","dark-alpha":1,"light-alpha":0.45},{color:"#FFCC33","dark-alpha":1,"light-alpha":0.45},{color:"#FF6633","dark-alpha":1,"light-alpha":0.45},{color:"#FF3333","dark-alpha":1,"light-alpha":0.45},{color:"#CC0066","dark-alpha":1,"light-alpha":0.45}]},tagcloud:{levels:10,"text-min-size":10,"text-max-size":55,"row-count":5,"horizontal-margin":5,"vertical-margin":-10,color:[{color:"#339999","dark-alpha":1,"light-alpha":0.45},{color:"#99CC99","dark-alpha":1,"light-alpha":0.45},{color:"#99CC33","dark-alpha":1,"light-alpha":0.45},{color:"#CCCC33","dark-alpha":1,"light-alpha":0.45},{color:"#FFCC33","dark-alpha":1,"light-alpha":0.45},{color:"#FF6633","dark-alpha":1,"light-alpha":0.45},{color:"#FF3333","dark-alpha":1,"light-alpha":0.45},{color:"#CC0066","dark-alpha":1,"light-alpha":0.45}]},smithgraph:{"size-factor":1,"bar-width":undefined,"bar-border-width":1,"bar-min-height":15,"edge-margin":5,"edge-border-width":1,"edge-background-alpha":0.2,"hole-radius":300,"horizontal-offset":0,"vertical-offset":0,"edge-color":[{color:"#339999","dark-alpha":1,"light-alpha":0.45},{color:"#99CC99","dark-alpha":1,"light-alpha":0.45},{color:"#99CC33","dark-alpha":1,"light-alpha":0.45},{color:"#CCCC33","dark-alpha":1,"light-alpha":0.45},{color:"#FFCC33","dark-alpha":1,"light-alpha":0.45},{color:"#FF6633","dark-alpha":1,"light-alpha":0.45},{color:"#FF3333","dark-alpha":1,"light-alpha":0.45},{color:"#CC0066","dark-alpha":1,"light-alpha":0.45}]},radialchart:{"size-factor":0.9,"bar-width":15,"bar-border-width":1,"bar-min-height":15,"hole-radius":50,"label-enabled":true,"label-size":11,"label-distance":5,"label-bar-width":1,"label-bar-color":"#555","label-bar-alpha":1,"label-bar-length1":5,"label-bar-length2":10,"horizontal-offset":0,"vertical-offset":0},stackchart:{"padding-top":30,"padding-right":30,"padding-bottom":20,"padding-left":30,"group-margin":40,"bar-margin":4,"vertical-label-count":10,"vertical-bar-width":5},color:[{color:"#66B3DD","dark-alpha":1,"light-alpha":0.45},{color:"#EF7D31","dark-alpha":1,"light-alpha":0.45},{color:"#ABC93C","dark-alpha":1,"light-alpha":0.45},{color:"#E05170","dark-alpha":1,"light-alpha":0.45},{color:"#297FB5","dark-alpha":1,"light-alpha":0.45},{color:"#F5BE21","dark-alpha":1,"light-alpha":0.45},{color:"#5ABABB","dark-alpha":1,"light-alpha":0.45},{color:"#9D66A4","dark-alpha":1,"light-alpha":0.45}]};c.chart=function(r,s,q,n,v){var w=$(r).attr("id")?$(r).attr("id"):"infoviz_"+i();$(r).attr("id",w);var o=Raphael(w,$(r).width(),$(r).height());var z=g(n);var m={"top-left":[z.layout["padding-left"],z.layout["padding-top"]],"top-right":[o.width-z.layout["padding-right"],z.layout["padding-top"]],"bottom-left":[z.layout["padding-left"],o.height-z.layout["padding-bottom"]],"bottom-right":[o.width-z.layout["padding-right"],o.height-z.layout["padding-bottom"]],width:o.width,height:o.height};o.rect(0,0,o.width,o.height).attr({stroke:"none",fill:z.layout["background-color"],"fill-opacity":z.layout["background-alpha"]});switch(s){case"linechart":m=c.draw_axis_background(o,q,z);c.draw_linechart(o,m,q,z,v);break;case"bubblechart":m=c.draw_axis_background(o,q,z);c.draw_bubblechart(o,m,q,z,v);break;case"barchart":m=c.draw_axis_background(o,q,z);c.draw_barchart(o,m,q,z,v);break;case"piechart":m=c.draw_empty_background(o,q,z);c.draw_piechart(o,m,q,z,v);break;case"radarchart":m=c.draw_empty_background(o,q,z);c.draw_radarchart(o,m,q,z,v);break;case"heatmap":m=c.draw_empty_background(o,q,z);c.draw_heatmap(o,m,q,z,v);break;case"tagcloud":m=c.draw_empty_background(o,q,z);c.draw_tagcloud(o,m,q,z,v);break;case"smithgraph":m=c.draw_empty_background(o,q,z);c.draw_smithgraph(o,m,q,z,v);break;case"radialchart":m=c.draw_empty_background(o,q,z);c.draw_radialchart(o,m,q,z,v);break;case"stackchart":m=c.draw_axis_background(o,q,z);c.draw_stackchart(o,m,q,z,v);break;default:o.text(m.width/2,m.height/2,'Type "'+s+'" not supported.').attr({"font-size":12,fill:"#000"}).translate(0.5,0.5);break}if(z.layout["logo-enabled"]){var u,t;switch(z.layout["logo-position"]){default:case"top-right":u=m["top-right"][0]-z.layout["logo-width"];t=m["top-right"][1];break;case"top-left":u=m["top-left"][0];t=m["top-right"][1];break;case"bottom-left":u=m["bottom-left"][0];t=m["bottom-left"][1]-z.layout["logo-height"];break;case"bottom-right":u=m["bottom-right"][0]-z.layout["logo-width"];t=m["bottom-right"][1]-z.layout["logo-height"];break}var p=o.image("./images/infoviz_logo_tiny.png",u,t,z.layout["logo-width"],z.layout["logo-height"]).attr({cursor:"pointer"}).translate(0.5,0.5);p.click(function(){window.location.href="https://github.com/nocoo/InfoViz"})}};c.draw_empty_background=function(o,r,n){if(!o){return k("Paper is empty.")}var z=g(n),s={},w=o.width,q=o.height,m=[],v,u;var p=o.rect(0,0,w,q);p.attr({stroke:"none",fill:z.layout["background-color"],"fill-opacity":z.layout["background-alpha"]});var t=o.rect(z.layout["padding-left"],z.layout["padding-top"],w-z.layout["padding-left"]-z.layout["padding-right"],q-z.layout["padding-top"]-z.layout["padding-bottom"],z.grid["border-radius"]);t.attr({stroke:z.grid["border-color"],"stroke-width":z.grid["border-width"],"stroke-opacity":z.grid["border-alpha"],fill:z.grid["background-color"],"fill-opacity":z.grid["background-alpha"]});t.translate(0.5,0.5);v=z.layout["padding-left"]+z.grid["border-width"]+z.grid["padding-left"];u=q-z.layout["padding-bottom"]-z.grid["border-width"]-z.grid["padding-bottom"];s["bottom-left"]=[v,u];u=z.layout["padding-top"]+z.grid["border-width"]+z.grid["padding-top"];s["top-left"]=[v,u];v=w-z.layout["padding-right"]-z.grid["border-width"]-z.grid["padding-right"];u=s["top-left"][1];s["top-right"]=[v,u];u=s["bottom-left"][1];s["bottom-right"]=[v,u];s.width=s["top-right"][0]-s["top-left"][0];s.height=s["bottom-right"][1]-s["top-right"][1];return s};c.draw_axis_background=function(u,F,q){if(!u){return k("Paper is empty.")}var o=g(q),r={},C=u.width,p=u.height,z=[],t,s;var D=u.rect(0,0,C,p);D.attr({stroke:"none",fill:o.layout["background-color"],"fill-opacity":o.layout["background-alpha"]});var v=u.rect(o.layout["padding-left"],o.layout["padding-top"],C-o.layout["padding-left"]-o.layout["padding-right"],p-o.layout["padding-top"]-o.layout["padding-bottom"],o.grid["border-radius"]);v.attr({stroke:o.grid["border-color"],"stroke-width":o.grid["border-width"],"stroke-opacity":o.grid["border-alpha"],fill:o.grid["background-color"],"fill-opacity":o.grid["background-alpha"]});v.translate(0.5,0.5);t=o.layout["padding-left"]+o.grid["border-width"]+o.grid["padding-left"]+o.grid["vertical-label-margin"]+o.grid["vertical-label-spacing"]+o.grid["vertical-label-margin"];s=p-o.layout["padding-bottom"]-o.grid["border-width"]-o.grid["padding-bottom"]-o.grid["horizontal-label-margin"]-o.grid["horizontal-label-spacing"]-o.grid["horizontal-label-margin"];r["bottom-left"]=[t,s];s=o.layout["padding-top"]+o.grid["border-width"]+o.grid["padding-top"];r["top-left"]=[t,s];t=C-o.layout["padding-right"]-o.grid["border-width"]-o.grid["padding-right"];s=r["top-left"][1];r["top-right"]=[t,s];s=r["bottom-left"][1];r["bottom-right"]=[t,s];r.width=r["top-right"][0]-r["top-left"][0];r.height=r["bottom-right"][1]-r["top-right"][1];z=[];z.push("M"+r["bottom-left"][0]+","+r["bottom-left"][1]);z.push("L"+r["top-left"][0]+","+r["top-left"][1]);var G=u.path(z.join(""));G.attr({stroke:o.grid["axis-color"],"stroke-width":o.grid["axis-width"],"stroke-opacity":o.grid["axis-alpha"]});G.translate(0.5,0.5);z=[];z.push("M"+r["bottom-left"][0]+","+r["bottom-left"][1]);z.push("L"+r["bottom-right"][0]+","+r["bottom-right"][1]);var E=u.path(z.join(""));E.attr({stroke:o.grid["axis-color"],"stroke-width":o.grid["axis-width"],"stroke-opacity":o.grid["axis-alpha"]});E.translate(0.5,0.5);var A=u.circle(r["bottom-left"][0],r["bottom-left"][1],o.grid["axis-dot-size"]);A.attr({stroke:"none",fill:o.grid["axis-color"],"fill-opacity":o.grid["axis-alpha"]});A.translate(0.5,0.5);var m=u.circle(r["top-left"][0],r["top-left"][1],o.grid["axis-dot-size"]);m.attr({stroke:"none",fill:o.grid["axis-color"],"fill-opacity":o.grid["axis-alpha"]});m.translate(0.5,0.5);var w=u.circle(r["bottom-right"][0],r["bottom-right"][1],o.grid["axis-dot-size"]);w.attr({stroke:"none",fill:o.grid["axis-color"],"fill-opacity":o.grid["axis-alpha"]});w.translate(0.5,0.5);if(F.vertical_axis_name){t=r["top-left"][0]-o.grid["vertical-label-margin"]*2;s=r["top-left"][1]+o.grid["vertical-name-size"]/2;var n=u.text(t,s,F.vertical_axis_name);n.attr({"text-anchor":"end","font-weight":"bold","font-size":o.grid["vertical-name-size"],fill:o.grid["vertical-name-color"]})}if(F.horizontal_axis_name){t=r["bottom-right"][0];s=r["bottom-right"][1]+o.grid["horizontal-name-size"]/2+o.grid["horizontal-label-margin"]*2;var B=u.text(t,s,F.horizontal_axis_name);B.attr({"text-anchor":"end","font-weight":"bold","font-size":o.grid["horizontal-name-size"],fill:o.grid["horizontal-name-color"]})}return r};c.draw_legend=function(v,r,p,q){if(!v||!p){return k("Paper or Data is empty.")}var o=g(q),z=[],u,t,F,E,H;if(!o.legend["legend-enabled"]){return}var B=o.legend["width"],A=o.legend["height"];if(!B){var D,n,s=-Infinity;for(F=0;F<p.length;++F){H=p[F];D=v.text(-1000,-1000,H.label).attr({"font-size":o.legend["label-size"]}).translate(0.5,0.5);n=D.getBBox();if(n.width>s){s=n.width}}B=s+o.legend["padding-left"]+o.legend["padding-right"]+o.legend["indicator-margin-left"]+o.legend["indicator-margin-right"]+o.legend["indicator-size"]}if(!A){A=o.legend["padding-top"]+o.legend["padding-bottom"];for(F=0;F<p.length;++F){A+=o.legend["indicator-margin-top"]+o.legend["indicator-margin-bottom"]+o.legend["indicator-size"]}}switch(o.legend["legend-position"]){default:case"top-right":u=r["top-right"][0]-B-o.legend["margin-right"];t=r["top-right"][1]+o.legend["margin-top"];break;case"top-left":u=r["top-left"][0]+o.legend["margin-left"];t=r["top-right"][1]+o.legend["margin-top"];break;case"bottom-left":u=r["bottom-left"][0]+o.legend["margin-left"];t=r["bottom-left"][1]-A-o.legend["margin-bottom"];break;case"bottom-right":u=r["bottom-right"][0]-B-o.legend["margin-right"];t=r["bottom-left"][1]-A-o.legend["margin-bottom"];break}var w=v.rect(u,t,B,A,o.legend["border-radius"]).attr({stroke:o.legend["border-color"],"stroke-opacity":o.legend["border-alpha"],"stroke-width":o.legend["border-width"],fill:o.legend["background-color"],"fill-opacity":o.legend["background-alpha"]}).translate(0.5,0.5);var m=[],C=[];var J,I;u+=o.legend["padding-left"];t+=o.legend["padding-top"];for(F=0;F<p.length;++F){H=p[F];switch(H.type){default:case"box":J=v.rect(u+o.legend["indicator-margin-left"],t+o.legend["indicator-margin-top"],o.legend["indicator-size"],o.legend["indicator-size"]).attr({fill:H.color["color"],"fill-opacity":H.color["light-alpha"],stroke:H.color["color"],"stroke-opacity":H.color["dark-alpha"],"stroke-width":o.legend["indicator-border-width"]}).translate(0.5,0.5);break;case"line":z=[];z.push("M"+(u+o.legend["indicator-margin-left"])+","+(t+o.legend["indicator-margin-top"]+o.legend["indicator-size"]));z.push("L"+(u+o.legend["indicator-margin-left"]+2*o.legend["indicator-size"]/5)+","+(t+o.legend["indicator-margin-top"]+2*o.legend["indicator-size"]/5));z.push("L"+(u+o.legend["indicator-margin-left"]+3*o.legend["indicator-size"]/4)+","+(t+o.legend["indicator-margin-top"]+5*o.legend["indicator-size"]/7));z.push("L"+(u+o.legend["indicator-margin-left"]+o.legend["indicator-size"])+","+(t+o.legend["indicator-margin-top"]));J=v.path(z.join("")).attr({stroke:H.color["color"],"stroke-opacity":H.color["dark-alpha"],"stroke-width":o.legend["indicator-border-width"]}).translate(0.5,0.5);break;case"node":J=v.circle(u+o.legend["indicator-margin-left"]+o.legend["indicator-size"]/2,t+o.legend["indicator-margin-top"]+o.legend["indicator-size"]/2,o.legend["indicator-size"]/2).attr({fill:H.color["color"],"fill-opacity":H.color["dark-alpha"],stroke:H.color["color"],"stroke-opacity":H.color["dark-alpha"],"stroke-width":o.legend["indicator-border-width"]}).translate(0.5,0.5);break;case"sector":var G=o.legend["indicator-sector-angle"]*Math.PI/180;z=[];z.push("M"+(u+o.legend["indicator-margin-left"])+","+(t+o.legend["indicator-margin-top"]+o.legend["indicator-size"]));z.push("L"+(u+o.legend["indicator-margin-left"]+Math.cos(G)*o.legend["indicator-size"])+","+(t+o.legend["indicator-margin-top"]));z.push("A"+o.legend["indicator-size"]+","+o.legend["indicator-size"]+", 0, 0, 1,"+(u+o.legend["indicator-margin-left"]+o.legend["indicator-size"])+","+(t+o.legend["indicator-margin-top"]+o.legend["indicator-size"]));z.push("L"+(u+o.legend["indicator-margin-left"])+","+(t+o.legend["indicator-margin-top"]+o.legend["indicator-size"]));z.push("Z");J=v.path(z.join("")).attr({fill:H.color["color"],"fill-opacity":H.color["light-alpha"],stroke:H.color["color"],"stroke-opacity":H.color["dark-alpha"],"stroke-width":o.legend["indicator-border-width"]}).translate(0.5,0.5);break;case"circle":J=v.circle(u+o.legend["indicator-margin-left"]+o.legend["indicator-size"]/2,t+o.legend["indicator-margin-top"]+o.legend["indicator-size"]/2,o.legend["indicator-size"]/2).attr({fill:H.color["color"],"fill-opacity":H.color["light-alpha"],stroke:H.color["color"],"stroke-opacity":H.color["dark-alpha"],"stroke-width":o.legend["indicator-border-width"]}).translate(0.5,0.5);break}m.push(J);I=v.text(u+o.legend["indicator-margin-left"]+o.legend["indicator-margin-right"]+o.legend["indicator-size"],t+o.legend["indicator-margin-top"]+o.legend["indicator-size"]/2,H.label).attr({"text-anchor":"start",fill:o.legend["label-color"]?o.legend["label-color"]:H.color["color"],"fill-opacity":o.legend["label-alpha"],"font-size":o.legend["label-size"]}).translate(0.5,0.5);t+=o.legend["indicator-size"]+o.legend["indicator-margin-top"]+o.legend["indicator-margin-bottom"]}};c.draw_tooltip=function(q,C,A,m,B,v,t,n){if(m===e){return}var E=g(n);var z,u,w=0,D=0,p=0,s=0;b(E);e=m;z=q.text(-1000,-1000,B).attr({"font-weight":E.tooltip["title-text-weight"],"font-size":E.tooltip["title-text-size"]}).translate(0.5,0.5);u=z.getBBox();w=u.width;D=u.height;z=q.text(-1000,-1000,v).attr({"font-weight":E.tooltip["content-text-weight"],"font-size":E.tooltip["content-text-size"]}).translate(0.5,0.5);u=z.getBBox();p=u.width;s=u.height;var r=(w>p)?w:p;var o=D+s;r+=E.tooltip["padding-left"]+E.tooltip["padding-right"];o+=E.tooltip["padding-top"]+E.tooltip["padding-bottom"]+E.tooltip["line-spacing"];C-=(r/2)+E.tooltip["horizontal-offset"];if(E.tooltip["vertical-offset"]<=0){A-=(o-E.tooltip["vertical-offset"])}else{A+=o+E.tooltip["vertical-offset"]}if(C<E.layout["padding-left"]){C=E.layout["padding-left"]}if(C+r>q.width-E.layout["padding-right"]){C=q.width-E.layout["padding-right"]-r}if(A<E.layout["padding-top"]){A=E.layout["padding-top"]}if(A+o>q.height-E.layout["padding-bottom"]){A=q.height-E.layout["padding-bottom"]-o}h=q.rect(C,A,r,o,E.tooltip["border-radius"]).attr({stroke:E.tooltip["border-color"],"stroke-width":E.tooltip["border-width"],"stroke-opacity":E.tooltip["border-alpha"],fill:E.tooltip["background-color"],"fill-opacity":E.tooltip["background-alpha"],opacity:0}).translate(0.5,0.5);l=q.text(C+E.tooltip["padding-left"],A+E.tooltip["padding-top"]+D/2,B).attr({fill:E.tooltip["title-text-color"]?E.tooltip["title-text-color"]:t.color,"font-size":E.tooltip["title-text-size"],"text-anchor":"start","font-weight":E.tooltip["title-text-weight"],"fill-opacity":E.tooltip["title-text-alpha"],opacity:0}).translate(0.5,0.5);a=q.text(C+E.tooltip["padding-left"],A+E.tooltip["padding-top"]+s+E.tooltip["line-spacing"]+s/2,v).attr({fill:E.tooltip["content-text-color"],"font-size":E.tooltip["content-text-size"],"text-anchor":"start","font-weight":E.tooltip["content-text-weight"],"fill-opacity":E.tooltip["content-text-alpha"],opacity:0}).translate(0.5,0.5);h.stop();l.stop();a.stop();h.animate({opacity:1},E.layout["speed"]);l.animate({opacity:1},E.layout["speed"]);a.animate({opacity:1},E.layout["speed"]);clearTimeout(d);if(E.tooltip["hide-after"]){d=setTimeout(function(){b()},E.tooltip["hide-after"])}};c.draw_linechart=function(n,B,ag,L,X,V){if(!n||!ag){return k("Paper or Data is empty.")}var H=g(L),C=[],Y,W;var S=ag.data,F=[],I=[],af,ae,ad,O;var K=ag.horizontal_field,o=ag.vertical_field;var r,ah,J=Infinity,aj=-Infinity,T=Infinity,w=-Infinity;var P=function(p){X.call(V,this.data("info"))};var M=function(p){Y=this.data("tooltip")["node_x"];W=this.data("tooltip")["node_y"];c.draw_tooltip(n,Y,W,this.data("tooltip")["id"],this.data("tooltip")["title"],this.data("tooltip")["content"],this.data("tooltip")["color"],H)};for(var z in S){for(af=0;af<S[z]["data"].length;++af){O=S[z]["data"][af];if(O[K]){r=O[K]}else{r="N/A"}if(r>aj){aj=r}if(r<J){J=r}if(f(r,F)===-1){F.push(r)}if(O[o]){ah=O[o]}else{ah="N/A"}if(ah>w){w=ah}if(ah<T){T=ah}if(f(ah,I)===-1){I.push(ah)}}}T=Math.floor(T/10)*10;w=Math.ceil(w/10)*10;var aa=B["top-left"][0]+H.linechart["padding-left"];var G=(B["top-right"][0]-H.linechart["padding-right"]-aa)/(F.length-1);var ac=B["bottom-left"][1]-H.linechart["padding-bottom"];var U=(ac-B["top-left"][1]-H.linechart["padding-top"])/(w-T);var q={};var D=(ac-B["top-left"][1]-H.linechart["padding-top"])/(H.linechart["vertical-label-count"]-1);var u=Math.floor((w-T)/(H.linechart["vertical-label-count"]-1));C=[];Y=B["top-left"][0]-H.linechart["vertical-bar-width"];W=ac;var s=T;for(af=0;af<H.linechart["vertical-label-count"];++af){C.push("M"+Y+","+W+"L"+B["top-left"][0]+","+W);n.path(C.join("")).attr({stroke:H.grid["axis-color"],"stroke-opacity":H.grid["axis-alpha"],"stroke-width":H.grid["axis-width"]}).translate(0.5,0.5);n.text(Y-H.linechart["vertical-bar-width"],W,s).attr({"text-anchor":"end",fill:H.grid["vertical-label-color"],"font-size":H.grid["vertical-label-size"]}).translate(0.5,0.5);W-=D;s+=u}var v;C=[];Y=aa;W=B["bottom-right"][1]+H.grid["horizontal-name-size"]/2+H.grid["horizontal-label-margin"]*2;for(af=0;af<F.length;++af){C.push("M"+Y+","+B["bottom-left"][1]);C.push("L"+Y+","+B["top-left"][1]);q[F[af]]=Y;n.text(Y,W,F[af]).attr({"text-anchor":"middle","font-size":H.grid["horizontal-label-size"],fill:H.grid["horizontal-label-color"]}).translate(0.5,0.5);Y+=G}v=n.path(C.join(""));v.attr({stroke:H.grid["grid-color"],"stroke-dasharray":"--..","stroke-linecap":"butt","stroke-width":H.grid["grid-width"],"stroke-opacity":H.grid["grid-alpha"]});v.translate(0.5,0.5);var R=0,N;var Z=[];for(var z in S){var m,E,t,ai=[];C=[];N=H.color[(R%H.color.length)];for(af=0;af<S[z]["data"].length;++af){O=S[z]["data"][af];Y=q[O[K]];W=ac-O[o]*U+H.linechart["circle-radius"];if(af===0){C.push("M"+Y+","+W)}else{C.push("L"+Y+","+W)}ai.push({x:Y,y:W,v_value:O[o],h_value:O[K],data:O})}m=n.path(C.join(""));m.attr({stroke:N.color,"stroke-opacity":N["light-alpha"],"stroke-width":H.linechart["line-width"]}).translate(0.5,0.5);t=n.text(Y+H.linechart["circle-radius"]*2,W,S[z]["name"]);t.attr({fill:N.color,"text-anchor":"start","font-size":H.linechart["label-size"]}).translate(0.5,0.5);for(af=0;af<ai.length;++af){if(H.linechart["custom-circle"]){E=n.image(H.linechart["custom-circle"],ai[af]["x"]-H.linechart["circle-radius"],ai[af]["y"]-H.linechart["circle-radius"],H.linechart["circle-radius"]*2,H.linechart["circle-radius"]*2).attr({cursor:"pointer"}).translate(0.5,0.5)}else{E=n.circle(ai[af]["x"],ai[af]["y"],H.linechart["circle-radius"]).attr({stroke:N.color,"stroke-opacity":N["dark-alpha"],"stroke-width":H.linechart["line-width"],fill:N.color}).translate(0.5,0.5)}if(X&&typeof(X)==="function"){E.data("info",{data:ai[af]["data"],x:ai[af]["x"],y:ai[af]["y"],v_value:ai[af]["v_value"],h_value:ai[af]["h_value"]});E.click(P)}if(ag.tooltip_title||ag.tooltip_content){var Q=ag.tooltip_title;var A=ag.tooltip_content;for(var ab in ai[af]["data"]){Q=Q.replace("{"+ab+"}",ai[af]["data"][ab]);A=A.replace("{"+ab+"}",ai[af]["data"][ab])}E.data("tooltip",{id:z+af,title:Q,content:A,color:N,node_x:ai[af]["x"],node_y:ai[af]["y"]});E.hover(M)}}Z.push({label:S[z]["name"],color:N,type:"line"});R++}c.draw_legend(n,B,Z,H)};c.draw_barchart=function(n,A,ai,K,X,V){if(!n||!ai){return k("Paper or Data is empty.")}var G=g(K),B=[],Y,W,ae=0;var R=ai.data,E=[],H=[],ah,ag,af,N;var J=ai.horizontal_field,o=ai.vertical_field;var r,aj,I=Infinity,ak=-Infinity,T=Infinity,v=-Infinity;var O=function(p){X.call(V,this.data("info"))};var L=function(p){Y=this.data("tooltip")["bar_top_x"];W=this.data("tooltip")["bar_top_y"];c.draw_tooltip(n,Y,W,this.data("tooltip")["id"],this.data("tooltip")["title"],this.data("tooltip")["content"],this.data("tooltip")["color"],G)};for(var w in R){for(ah=0;ah<R[w]["data"].length;++ah){N=R[w]["data"][ah];if(N[J]){r=N[J]}else{r="N/A"}if(r>ak){ak=r}if(r<I){I=r}if(f(r,E)===-1){E.push(r)}if(N[o]){aj=N[o]}else{aj="N/A"}if(aj>v){v=aj}if(aj<T){T=aj}if(f(aj,H)===-1){H.push(aj)}}++ae}T=Math.floor(T/10)*10;v=Math.ceil(v/10)*10;var ab=A["top-left"][0]+G.barchart["padding-left"];var ad=A["bottom-left"][1]-G.barchart["padding-bottom"];var U=(ad-A["top-left"][1]-G.barchart["padding-top"])/(v-T);var q={};var C=(ad-A["top-left"][1]-G.barchart["padding-top"])/(G.barchart["vertical-label-count"]-1);var t=Math.floor((v-T)/(G.barchart["vertical-label-count"]-1));B=[];Y=A["top-left"][0]-G.barchart["vertical-bar-width"];W=ad;var s=T;for(ah=0;ah<G.barchart["vertical-label-count"];++ah){B.push("M"+Y+","+W+"L"+A["top-left"][0]+","+W);n.path(B.join("")).attr({stroke:G.grid["axis-color"],"stroke-opacity":G.grid["axis-alpha"],"stroke-width":G.grid["axis-width"]}).translate(0.5,0.5);n.text(Y-G.barchart["vertical-bar-width"],W,s).attr({"text-anchor":"end",fill:G.grid["vertical-label-color"],"font-size":G.grid["vertical-label-size"]}).translate(0.5,0.5);W-=C;s+=t}var F=(A.width-G.barchart["padding-left"]-G.barchart["padding-right"]-(E.length-1)*G.barchart["group-margin"])/E.length;var S=(F-(ae-1)*G.barchart["bar-margin"])/ae;var u;B=[];Y=ab+F/2;W=A["bottom-right"][1]+G.grid["horizontal-name-size"]/2+G.grid["horizontal-label-margin"]*2;for(ah=0;ah<E.length;++ah){B.push("M"+Y+","+A["bottom-left"][1]);B.push("L"+Y+","+A["top-left"][1]);q[E[ah]]=Y-F/2;n.text(Y,W,E[ah]).attr({"text-anchor":"middle","font-size":G.grid["horizontal-label-size"],fill:G.grid["horizontal-label-color"]}).translate(0.5,0.5);Y+=F+G.barchart["group-margin"]}u=n.path(B.join(""));u.attr({stroke:G.grid["grid-color"],"stroke-dasharray":"--..","stroke-linecap":"butt","stroke-width":G.grid["grid-width"],"stroke-opacity":G.grid["grid-alpha"]});u.translate(0.5,0.5);var Q=0,M,m=[],aa;var Z=[];for(var w in R){var D;M=G.color[(Q%G.color.length)];for(ah=0;ah<R[w]["data"].length;++ah){N=R[w]["data"][ah];Y=q[N[J]]+(Q)*(S+G.barchart["bar-margin"]);W=ad-N[o]*U;aa=n.rect(Y,W,S,A["bottom-left"][1]-W-1);aa.attr({stroke:M.color,"stroke-opacity":M["dark-alpha"],"stroke-width":G.barchart["line-width"],fill:M.color,"fill-opacity":M["light-alpha"]}).translate(0.5,0.5);m.push(aa);if(X&&typeof(X)==="function"){aa.data("info",{x:Y,y:W,h_value:N[J],v_value:N[o],data:N});aa.click(O)}if(ai.tooltip_title||ai.tooltip_content){var P=ai.tooltip_title;var z=ai.tooltip_content;for(var ac in N){P=P.replace("{"+ac+"}",N[ac]);z=z.replace("{"+ac+"}",N[ac])}aa.data("tooltip",{id:w+ah,title:P,content:z,color:M,bar_top_x:Y,bar_top_y:W});aa.hover(L)}}Z.push({label:R[w]["name"],color:M,type:"box"});Q++}c.draw_legend(n,A,Z,G);for(ah=0;ah<m.length;++ah){(function(p){p.mouseover(function(){p.stop().animate({"fill-opacity":G.color[0]["dark-alpha"]},G.layout["speed"],">")});p.mouseout(function(){p.stop().animate({"fill-opacity":G.color[0]["light-alpha"]},G.layout["speed"],"<")})})(m[ah])}};c.draw_bubblechart=function(n,A,af,L,X,T){if(!n||!af){return k("Paper or Data is empty.")}var I=g(L),B=[],ae,Z,W,w,O;var J=Infinity,ai=-Infinity,R=Infinity,v=-Infinity,o=-Infinity,N=Infinity;var P=function(p){X.call(T,this.data("info"))};var M=function(p){Z=this.data("tooltip")["x"];W=this.data("tooltip")["y"];c.draw_tooltip(n,Z,W,this.data("tooltip")["id"],this.data("tooltip")["title"],this.data("tooltip")["content"],this.data("tooltip")["color"],I)};for(ae=0;ae<af.data.length;++ae){O=af.data[ae];if(O[af.horizontal_field]>ai){ai=O[af.horizontal_field]}if(O[af.horizontal_field]<J){J=O[af.horizontal_field]}if(O[af.vertical_field]>v){v=O[af.vertical_field]}if(O[af.vertical_field]<R){R=O[af.vertical_field]}if(O[af.size_field]>o){o=O[af.size_field]}if(O[af.size_field]<N){N=O[af.size_field]}}J=Math.floor(J/10)*10;ai=Math.ceil(ai/10)*10;R=Math.floor(R/10)*10;v=Math.ceil(v/10)*10;var ab=A["top-left"][0]+I.bubblechart["padding-left"];var H=(A["top-right"][0]-I.bubblechart["padding-right"]-ab)/(ai-J);var ad=A["bottom-left"][1]-I.bubblechart["padding-bottom"];var S=(ad-A["top-left"][1]-I.bubblechart["padding-top"])/(v-R);var ah=I.bubblechart["circle-min-radius"];var F=(I.bubblechart["circle-max-radius"]-ah)/(o-N);var s,ag,E,Y,G,D,U;var aa=[],K=[],q=[];for(ae=0;ae<af.data.length;++ae){O=af.data[ae];s=O[af.horizontal_field];ag=O[af.vertical_field];E=O[af.size_field];Y=O[af.label_field];G=I.color[(ae%I.color.length)];w=ah+E*F;Z=ab+s*H;W=ad-(ag-R)*S;D=n.circle(Z,W,w).attr({fill:G.color,"fill-opacity":G["light-alpha"],stroke:G.color,"stroke-opacity":G["dark-alpha"],"stroke-width":I.bubblechart["circle-border-width"]}).translate(0.5,0.5);U=n.text(Z,W,Y).attr({fill:G.color,"font-size":I.bubblechart["label-size"],"text-anchor":"middle"}).translate(0.5,0.5);D.data("data",O);U.data("data",O);K.push(D);q.push(U);aa.push({label:Y,color:G,type:"circle"});if(X&&typeof(X)==="function"){D.data("info",{x:Z,y:W,v_value:ag,h_value:s,data:O});D.click(P);U.data("info",{x:Z,y:W,v_value:ag,h_value:s,data:O});U.click(P)}if(af.tooltip_title||af.tooltip_content){var Q=af.tooltip_title;var z=af.tooltip_content;for(var ac in O){Q=Q.replace("{"+ac+"}",O[ac]);z=z.replace("{"+ac+"}",O[ac])}D.data("tooltip",{id:ae,title:Q,content:z,color:G,x:Z,y:W-w});D.hover(M);U.data("tooltip",{id:ae,title:Q,content:z,color:G,x:Z,y:W-w});U.hover(M)}}c.draw_legend(n,A,aa,I);var C=(ad-A["top-left"][1]-I.bubblechart["padding-top"])/(I.bubblechart["vertical-label-count"]-1);var u=(v-R)/(I.bubblechart["vertical-label-count"]-1);B=[];Z=A["top-left"][0]-I.bubblechart["vertical-bar-width"];W=ad;var t=R;for(ae=0;ae<I.bubblechart["vertical-label-count"];++ae){B.push("M"+Z+","+W+"L"+A["top-left"][0]+","+W);n.path(B.join("")).attr({stroke:I.grid["axis-color"],"stroke-opacity":I.grid["axis-alpha"],"stroke-width":I.grid["axis-width"]}).translate(0.5,0.5);n.text(Z-I.bubblechart["vertical-bar-width"],W,t.toFixed(2)).attr({"text-anchor":"end",fill:I.grid["vertical-label-color"],"font-size":I.grid["vertical-label-size"]}).translate(0.5,0.5);W-=C;t+=u}var V=(A["top-right"][0]-I.bubblechart["padding-right"]-ab)/(I.bubblechart["vertical-label-count"]-1);var m=(ai-J)/(I.bubblechart["vertical-label-count"]-1);B=[];Z=ab;W=A["bottom-left"][1]+I.bubblechart["horizontal-bar-width"];var r=J;for(ae=0;ae<I.bubblechart["horizontal-label-count"];++ae){B.push("M"+Z+","+W+"L"+Z+","+A["bottom-left"][1]);n.path(B.join("")).attr({stroke:I.grid["axis-color"],"stroke-opacity":I.grid["axis-alpha"],"stroke-width":I.grid["axis-width"]}).translate(0.5,0.5);n.text(Z,W+I.bubblechart["horizontal-bar-width"]*2,r.toFixed(2)).attr({fill:I.grid["horizontal-label-color"],"font-size":I.grid["horizontal-label-size"]}).translate(0.5,0.5);Z+=V;r+=m}};c.draw_stackchart=function(n,B,aj,M,Y,W){if(!n||!aj){return k("Paper or Data is empty.")}var I=g(M),C=[],Z,X,af=0;var T=aj.data,G=[],J=[],ai,ah,ag,P;var L=aj.horizontal_field,o=aj.vertical_field;var s,ak,K=Infinity,am=-Infinity,U=Infinity,w=-Infinity,al=-Infinity;var Q=function(p){Y.call(W,this.data("info"))};var N=function(p){Z=this.data("tooltip")["bar_top_x"];X=this.data("tooltip")["bar_top_y"];c.draw_tooltip(n,Z,X,this.data("tooltip")["id"],this.data("tooltip")["title"],this.data("tooltip")["content"],this.data("tooltip")["color"],I)};for(var z in T){var q=0;for(ai=0;ai<T[z]["data"].length;++ai){P=T[z]["data"][ai];if(P[L]){s=P[L]}else{s="N/A"}if(s>am){am=s}if(s<K){K=s}if(f(s,G)===-1){G.push(s)}if(P[o]){ak=P[o]}else{ak="N/A"}if(ak>w){w=ak}if(ak<U){U=ak}if(f(ak,J)===-1){J.push(ak)}q+=ak}if(q>al){al=q}++af}U=Math.floor(U/10)*10;w=Math.ceil(w/10)*10;var ac=B["top-left"][0]+I.stackchart["padding-left"];var ae=B["bottom-left"][1]-I.stackchart["padding-bottom"];var V=(ae-B["top-left"][1]-I.stackchart["padding-top"]-I.stackchart["bar-margin"]*(af-1))/al;var r={};var D=(ae-B["top-left"][1]-I.stackchart["padding-top"])/(I.stackchart["vertical-label-count"]-1);var u=Math.floor((w-U)/(I.stackchart["vertical-label-count"]-1));C=[];Z=B["top-left"][0]-I.stackchart["vertical-bar-width"];X=ae;var t=U;for(ai=0;ai<I.stackchart["vertical-label-count"];++ai){C.push("M"+Z+","+X+"L"+B["top-left"][0]+","+X);n.path(C.join("")).attr({stroke:I.grid["axis-color"],"stroke-opacity":I.grid["axis-alpha"],"stroke-width":I.grid["axis-width"]}).translate(0.5,0.5);n.text(Z-I.stackchart["vertical-bar-width"],X,t).attr({"text-anchor":"end",fill:I.grid["vertical-label-color"],"font-size":I.grid["vertical-label-size"]}).translate(0.5,0.5);X-=D;t+=u}var H=(B.width-I.stackchart["padding-left"]-I.stackchart["padding-right"]-(G.length-1)*I.barchart["group-margin"])/G.length;var v;C=[];Z=ac+H/2;X=B["bottom-right"][1]+I.grid["horizontal-name-size"]/2+I.grid["horizontal-label-margin"]*2;for(ai=0;ai<G.length;++ai){C.push("M"+Z+","+B["bottom-left"][1]);C.push("L"+Z+","+B["top-left"][1]);r[G[ai]]=Z-H/2;n.text(Z,X,G[ai]).attr({"text-anchor":"middle","font-size":I.grid["horizontal-label-size"],fill:I.grid["horizontal-label-color"]}).translate(0.5,0.5);Z+=H+I.stackchart["group-margin"]}v=n.path(C.join(""));v.attr({stroke:I.grid["grid-color"],"stroke-dasharray":"--..","stroke-linecap":"butt","stroke-width":I.grid["grid-width"],"stroke-opacity":I.grid["grid-alpha"]});v.translate(0.5,0.5);var S=0,O,m=[],ab;var aa=[];for(var z in T){var F,E;O=I.color[(S%I.color.length)];X=ae;for(ai=0;ai<T[z]["data"].length;++ai){P=T[z]["data"][ai];E=V*P[o];Z=r[P[L]];X-=E;ab=n.rect(Z,X,H,E);ab.attr({stroke:O.color,"stroke-opacity":O["dark-alpha"],"stroke-width":I.stackchart["line-width"],fill:O.color,"fill-opacity":O["light-alpha"]}).translate(0.5,0.5);m.push(ab);if(Y&&typeof(Y)==="function"){ab.data("info",{x:Z,y:X,h_value:P[L],v_value:P[o],data:P});ab.click(Q)}if(aj.tooltip_title||aj.tooltip_content){var R=aj.tooltip_title;var A=aj.tooltip_content;for(var ad in P){R=R.replace("{"+ad+"}",P[ad]);A=A.replace("{"+ad+"}",P[ad])}ab.data("tooltip",{id:z+ai,title:R,content:A,color:O,bar_top_x:Z,bar_top_y:X});ab.hover(N)}X-=I.stackchart["bar-margin"]}aa.push({label:T[z]["name"],color:O,type:"box"});S++}c.draw_legend(n,B,aa,I);for(ai=0;ai<m.length;++ai){(function(p){p.mouseover(function(){p.stop().animate({"fill-opacity":I.color[0]["dark-alpha"]},I.layout["speed"],">")});p.mouseout(function(){p.stop().animate({"fill-opacity":I.color[0]["light-alpha"]},I.layout["speed"],"<")})})(m[ai])}};c.draw_piechart=function(o,u,ag,L,U,R){if(!o||!ag){return k("Paper or Data is empty.")}var J=g(L),v=[],X,T,ae,N,Z;var F=J.piechart["hole-radius"];var H=u["top-left"][0]+u.width/2+J.piechart["horizontal-offset"];var G=u["top-left"][1]+u.height/2+J.piechart["vertical-offset"];var O=function(p){U.call(R,this.data("info"))};var M=function(p){X=this.data("tooltip")["x"];T=this.data("tooltip")["y"];c.draw_tooltip(o,X,T,this.data("tooltip")["id"],this.data("tooltip")["title"],this.data("tooltip")["content"],this.data("tooltip")["color"],J)};if(u.width>u.height){Z=Math.floor(u.height/2)*J.piechart["size-factor"]}else{Z=Math.floor(u.width/2)*J.piechart["size-factor"]}var r=-Infinity,Q=Infinity,q=0;for(ae=0;ae<ag.data.length;++ae){N=ag.data[ae];if(N[ag.value_field]>r){r=N[ag.value_field]}if(N[ag.value_field]<Q){Q=N[ag.value_field]}q+=N[ag.value_field]}var K=function(ao,am,x,p,ap,al,an){var aq=Math.PI/180,ak=ao+x*Math.cos(-ap*aq),y=ao+x*Math.cos(-al*aq),at=am+x*Math.sin(-ap*aq),ar=am+x*Math.sin(-al*aq);C=ao+p*Math.cos(-ap*aq),A=ao+p*Math.cos(-al*aq),ai=am+p*Math.sin(-ap*aq),ah=am+p*Math.sin(-al*aq);if(p>0){return o.path(["M",C,ai,"L",ak,at,"A",x,x,0,+(al-ap>180),0,y,ar,"L",A,ah,"A",p,p,0,-(al-ap>180),1,C,ai]).attr(an)}else{return o.path(["M",ao,am,"L",ak,at,"A",x,x,0,+(al-ap>180),0,y,ar,"z"]).attr(an)}};var z=360/q;var B,s=0,I,ab=[],E=[],w=[],n;var D,aj,C,ai,A,ah,ad;var W,ac,V;var Y=[];for(ae=0;ae<ag.data.length;++ae){N=ag.data[ae][ag.value_field];B=z*N;I=J.color[(ae%J.color.length)];W=K(H,G,Z,F,s,s+B,{fill:I.color,"fill-opacity":I["light-alpha"],stroke:I.color,"stroke-opacity":I["dark-alpha"],"stroke-width":J.piechart["sector-border-width"]}).translate(0.5,0.5);W.data("color-alpha",I["light-alpha"]);W.data("index",ae);ab.push(W);if(U&&typeof(U)==="function"){W.data("info",{start:s,angle:B,value:ag.data[ae][ag.value_field],data:ag.data[ae]});W.click(O)}Y.push({label:ag.data[ae][ag.label_field],color:I,type:"sector"});n=-(s+B/2)*Math.PI/180;X=H+(Z+J.piechart["label-distance"])*Math.cos(n);T=G+(Z+J.piechart["label-distance"])*Math.sin(n);D=H+(Z+J.piechart["label-distance"]+J.piechart["label-bar-length1"])*Math.cos(n);aj=G+(Z+J.piechart["label-distance"]+J.piechart["label-bar-length1"])*Math.sin(n);if(X>H){C=D+J.piechart["label-bar-length2"]}else{C=D-J.piechart["label-bar-length2"]}ai=aj;v=[];v.push("M"+X+","+T);v.push("L"+D+","+aj);v.push("L"+C+","+ai);ac=o.path(v.join("")).attr({stroke:J.piechart["label-bar-color"],"stroke-opacity":J.piechart["label-bar-color"],"stroke-width":J.piechart["label-bar-width"]}).translate(0.5,0.5);E.push(ac);if(X>H){A=C+J.piechart["label-distance"];ad="start"}else{A=C-J.piechart["label-distance"];ad="end"}ah=ai;V=o.text(A,ah,ag.data[ae][ag.label_field]).attr({"text-anchor":ad,fill:I.color,"font-size":J.piechart["label-size"]}).translate(0.5,0.5);w.push(V);if(ag.tooltip_title||ag.tooltip_content){var P=ag.tooltip_title;var t=ag.tooltip_content;for(var aa in ag.data[ae]){P=P.replace("{"+aa+"}",ag.data[ae][aa]);t=t.replace("{"+aa+"}",ag.data[ae][aa])}W.data("tooltip",{id:ae,title:P,content:t,color:I,x:H+(Z/2)*Math.cos(n),y:G+(Z/2)*Math.sin(n)});W.hover(M)}s+=B}c.draw_legend(o,u,Y,J);var af=Raphael.animation({transform:"s1.1 1.1 "+H+" "+G},J.layout["speed"],">");var S=Raphael.animation({transform:""},J.layout["speed"],"<");var m;for(ae=0;ae<ab.length;++ae){(function(p){p.mouseover(function(){ac=E[p.data("index")];if(ac){ac.stop().animate(af)}V=w[p.data("index")];if(V){V.stop().animate(af)}m=af;m.anim["100"]["fill-opacity"]=1;p.stop().animate(m);delete m.anim["100"]["fill-opacity"]});p.mouseout(function(){ac=E[p.data("index")];if(ac){ac.stop().animate(S)}V=w[p.data("index")];if(V){V.stop().animate(S)}m=S;m.anim["100"]["fill-opacity"]=p.data("color-alpha");p.stop().animate(m);delete m.anim["100"]["fill-opacity"]})})(ab[ae])}};c.draw_radarchart=function(G,C,V,A,w,D){if(!G||!V){return k("Paper or Data is empty.")}var t=g(A),J=[],H=[],F,E,P,N,Q,u,U=Math.PI/180;var r=C["top-left"][0]+C.width/2+t.radarchart["horizontal-offset"];var q=C["top-left"][1]+C.height/2+t.radarchart["vertical-offset"];var S=function(p){w.call(D,this.data("info"))};var s=function(p){F=this.data("tooltip")["x"];E=this.data("tooltip")["y"];c.draw_tooltip(G,F,E,this.data("tooltip")["id"],this.data("tooltip")["title"],this.data("tooltip")["content"],this.data("tooltip")["color"],t)};if(C.width>C.height){u=Math.floor(C.height/2)*t.radarchart["size-factor"]}else{u=Math.floor(C.width/2)*t.radarchart["size-factor"]}var n=0;var I=360/V.value_fields.length;var R={},T={};for(P=0;P<V.value_fields.length;++P){R[V.value_fields[P]]={v_max:-Infinity,v_min:Infinity};T[V.value_fields[P]]={angle:n};n+=I}for(P=0;P<V.data.length;++P){for(N=0;N<V.value_fields.length;++N){Q=V.data[P][V.value_fields[N]];if(Q>R[V.value_fields[N]]["v_max"]){R[V.value_fields[N]]["v_max"]=Q}if(Q<R[V.value_fields[N]]["v_min"]){R[V.value_fields[N]]["v_min"]=Q}}}G.circle(r,q,u).attr({stroke:t.radarchart["outer-border-color"],"stroke-width":t.radarchart["outer-border-width"],"stroke-opacity":t.radarchart["outer-border-alpha"],fill:t.radarchart["outer-background-color"],"fill-opacity":t.radarchart["outer-background-alpha"]}).translate(0.5,0.5);J=[];H=[];var o=0;for(P=0;P<V.value_fields.length;++P){if(P===0){J.push("M")}else{J.push("L")}F=r+u*Math.sin(T[V.value_fields[P]]["angle"]*U);E=q-u*Math.cos(T[V.value_fields[P]]["angle"]*U);T[V.value_fields[P]]["end-x"]=F;T[V.value_fields[P]]["end-y"]=E;J.push(F+","+E);H.push("M"+r+","+q+"L"+F+","+E);F=r+(u+t.radarchart["label-distance"])*Math.sin(T[V.value_fields[P]]["angle"]*U);E=q-(u+t.radarchart["label-distance"])*Math.cos(T[V.value_fields[P]]["angle"]*U);T[V.value_fields[P]]["label-x"]=F;T[V.value_fields[P]]["label-y"]=E;if(t.radarchart["label-rotation"]){o=T[V.value_fields[P]]["angle"];if(T[V.value_fields[P]]["angle"]>90&&T[V.value_fields[P]]["angle"]<270){o+=180}}G.text(F,E,V.value_fields[P]).attr({"font-size":t.radarchart["label-size"],fill:t.radarchart["label-color"],transform:"r"+o}).translate(0.5,0.5);R[V.value_fields[P]]["v_unit"]=(u-t.radarchart["circle-min-radius"])/(R[V.value_fields[P]]["v_max"]-R[V.value_fields[P]]["v_min"])}J.push("z");G.path(J.join("")).attr({stroke:t.radarchart["inner-border-color"],"stroke-width":t.radarchart["inner-border-width"],"stroke-opacity":t.radarchart["inner-border-alpha"],fill:t.radarchart["inner-background-color"],"fill-opacity":t.radarchart["inner-background-alpha"]}).translate(0.5,0.5);G.path(H.join("")).attr({stroke:t.radarchart["axis-color"],"stroke-width":t.radarchart["axis-width"],"stroke-opacity":t.radarchart["axis-alpha"]}).translate(0.5,0.5);var K=0,B,z,m=[],O,v=[];for(P=0;P<V.data.length;++P){B=t.color[(P%t.color.length)];J=[];for(N=0;N<V.value_fields.length;++N){z=V.data[P][V.value_fields[N]];K=t.radarchart["circle-min-radius"]+R[V.value_fields[N]]["v_unit"]*(z-R[V.value_fields[N]]["v_min"]);if(!K){continue}if(N===0){J.push("M")}else{J.push("L")}F=r+K*Math.sin(T[V.value_fields[N]]["angle"]*U);E=q-K*Math.cos(T[V.value_fields[N]]["angle"]*U);J.push(F+","+E)}J.push("z");O=G.path(J.join("")).attr({stroke:B.color,"stroke-width":t.radarchart["circle-border-width"],"stroke-opacity":B["dark-alpha"],fill:B.color,"fill-opacity":t.radarchart["circle-background-alpha"]}).translate(0.5,0.5);O.data("color-alpha",t.radarchart["circle-background-alpha"]);m.push(O);if(V.data[P][V.name_field]){v.push({label:V.data[P][V.name_field],color:B,type:"circle"})}if(w&&typeof(w)==="function"){L.data("info",{name:V.data[P][V.name_field],data:V.data[P]});L.click(S)}if(V.tooltip_title||V.tooltip_content){var W=V.tooltip_title;var M=V.tooltip_content;for(var L in V.data[P]){W=W.replace("{"+L+"}",V.data[P][L]);M=M.replace("{"+L+"}",V.data[P][L])}O.data("tooltip",{id:P,title:W,content:M,color:B,x:F,y:E});O.hover(s)}}c.draw_legend(G,C,v,t);for(P=0;P<m.length;++P){(function(p){p.mouseover(function(){p.animate({"fill-opacity":0.618},t.layout["speed"],"<")});p.mouseout(function(){p.animate({"fill-opacity":p.data("color-alpha")},t.layout["speed"],">")})})(m[P])}};c.draw_radialchart=function(q,A,ah,N,X,U){if(!q||!ah){return k("Paper or Data is empty.")}var M=g(N),B=[],Z,W,af,P,ab,s=Math.PI/180;var I=M.radialchart["hole-radius"];var K=A["top-left"][0]+A.width/2+M.radialchart["horizontal-offset"];var J=A["top-left"][1]+A.height/2+M.radialchart["vertical-offset"];var Q=function(p){X.call(U,this.data("info"))};var O=function(p){Z=this.data("tooltip")["x"];W=this.data("tooltip")["y"];c.draw_tooltip(q,Z,W,this.data("tooltip")["id"],this.data("tooltip")["title"],this.data("tooltip")["content"],this.data("tooltip")["color"],M)};if(A.width>A.height){ab=Math.floor(A.height/2)*M.radialchart["size-factor"]}else{ab=Math.floor(A.width/2)*M.radialchart["size-factor"]}var t=-Infinity,S=Infinity,r=0;for(af=0;af<ah.data.length;++af){P=ah.data[af];if(P[ah.value_field]>t){t=P[ah.value_field]}if(P[ah.value_field]<S){S=P[ah.value_field]}r+=P[ah.value_field]}var D=360/ah.data.length;var T=M.radialchart["bar-width"]?M.radialchart["bar-width"]:D;var u=(ab-I-M.radialchart["bar-min-height"])/(t-S);var w=0,L,ak=[],H=[],C=[];var G,al,F,aj,E,ai,ae,o;var v,ad,Y;var aa=[];for(af=0;af<ah.data.length;++af){P=ah.data[af][ah.value_field];o=I+M.radialchart["bar-min-height"]+u*(P-S);L=M.color[(af%M.color.length)];B=[];Z=K+I*Math.cos(w*s);W=J+I*Math.sin(w*s);B.push("M"+Z+","+W);Z=K+o*Math.cos(w*s);W=J+o*Math.sin(w*s);B.push("L"+Z+","+W);Z=K+o*Math.cos((w+T)*s);W=J+o*Math.sin((w+T)*s);B.push("L"+Z+","+W);Z=K+I*Math.cos((w+T)*s);W=J+I*Math.sin((w+T)*s);B.push("L"+Z+","+W);B.push("Z");v=q.path(B.join("")).attr({fill:L.color,"fill-opacity":L["light-alpha"],stroke:L.color,"stroke-opacity":L["dark-alpha"],"stroke-width":M.radialchart["bar-border-width"]}).translate(0.5,0.5);v.data("color-alpha",L["light-alpha"]);v.data("index",af);ak.push(v);if(X&&typeof(X)==="function"){v.data("info",{start:w,angle:M.radialchart["bar-width"],value:ah.data[af][ah.value_field],data:ah.data[af]});v.click(Q)}aa.push({label:ah.data[af][ah.label_field],color:L,type:"box"});var n=w+M.radialchart["bar-width"]/2;if(M.radialchart["label-enabled"]){Z=K+(o+M.radialchart["label-distance"])*Math.cos(n*s);W=J+(o+M.radialchart["label-distance"])*Math.sin(n*s);G=K+(o+M.radialchart["label-distance"]+M.radialchart["label-bar-length1"])*Math.cos(n*s);al=J+(o+M.radialchart["label-distance"]+M.radialchart["label-bar-length1"])*Math.sin(n*s);if(Z>K){F=G+M.radialchart["label-bar-length2"]}else{F=G-M.radialchart["label-bar-length2"]}aj=al;B=[];B.push("M"+Z+","+W);B.push("L"+G+","+al);B.push("L"+F+","+aj);ad=q.path(B.join("")).attr({stroke:M.radialchart["label-bar-color"],"stroke-opacity":M.radialchart["label-bar-color"],"stroke-width":M.radialchart["label-bar-width"]}).translate(0.5,0.5);H.push(ad);if(Z>K){E=F+M.radialchart["label-distance"];ae="start"}else{E=F-M.radialchart["label-distance"];ae="end"}ai=aj;Y=q.text(E,ai,ah.data[af][ah.label_field]).attr({"text-anchor":ae,fill:L.color,"font-size":M.radialchart["label-size"]}).translate(0.5,0.5);C.push(Y)}if(ah.tooltip_title||ah.tooltip_content){var R=ah.tooltip_title;var z=ah.tooltip_content;for(var ac in ah.data[af]){R=R.replace("{"+ac+"}",ah.data[af][ac]);z=z.replace("{"+ac+"}",ah.data[af][ac])}v.data("tooltip",{id:af,title:R,content:z,color:L,x:K+ab/2*Math.cos(n*s),y:J+ab/2*Math.sin(n*s)});v.hover(O)}w+=D}c.draw_legend(q,A,aa,M);var ag=Raphael.animation({transform:"s1.1 1.1 "+K+" "+J},M.layout["speed"],">");var V=Raphael.animation({transform:""},M.layout["speed"],"<");var m;for(af=0;af<ak.length;++af){(function(p){p.mouseover(function(){ad=H[p.data("index")];if(ad){ad.stop().animate(ag)}Y=C[p.data("index")];if(Y){Y.stop().animate(ag)}m=ag;m.anim["100"]["fill-opacity"]=1;p.stop().animate(m);delete m.anim["100"]["fill-opacity"]});p.mouseout(function(){ad=H[p.data("index")];if(ad){ad.stop().animate(V)}Y=C[p.data("index")];if(Y){Y.stop().animate(V)}m=V;m.anim["100"]["fill-opacity"]=p.data("color-alpha");p.stop().animate(m);delete m.anim["100"]["fill-opacity"]})})(ak[af])}};c.draw_smithgraph=function(q,C,ar,U,ae,ac){if(!q||!ar){return k("Paper or Data is empty.")}var S=g(U),D=[],ag,ad,ap,W,ak,s=Math.PI/180;var M=S.smithgraph["hole-radius"];var P=C["top-left"][0]+C.width/2+S.smithgraph["horizontal-offset"];var N=C["top-left"][1]+C.height/2+S.smithgraph["vertical-offset"];var X=function(p){ae.call(ac,this.data("info"))};var V=function(p){ag=this.data("tooltip")["x"];ad=this.data("tooltip")["y"];c.draw_tooltip(q,ag,ad,this.data("tooltip")["id"],this.data("tooltip")["title"],this.data("tooltip")["content"],this.data("tooltip")["color"],S)};if(C.width>C.height){ak=Math.floor(C.height/2)*S.smithgraph["size-factor"]}else{ak=Math.floor(C.width/2)*S.smithgraph["size-factor"]}var aq=-Infinity,Q=Infinity,am=0;var L={};for(ap=0;ap<ar.data.length;++ap){W=ar.data[ap];if(W[ar.node_value_field]>aq){aq=W[ar.node_value_field]}if(W[ar.node_value_field]<Q){Q=W[ar.node_value_field]}am+=W[ar.node_value_field];if(!L[W[ar.node_id_field]]){L[W[ar.node_id_field]]={node:W,out:W.edges.length,"in":0}}else{console.log("node id: "+W[ar.node_id_field]+" is not unique. skip.");continue}}var H,aj,v;var T=-Infinity,o=Infinity,O=0;for(ap=0;ap<ar.data.length;++ap){W=ar.data[ap];H=-Infinity,aj=Infinity,v=0;for(j=0;j<W.edges.length;++j){if(!L[W.edges[j]["to"]]){console.log("destination node id: "+W.edges[j]["to"]+" not found. skip.");continue}L[W.edges[j]["to"]]["in"]++;var ai=W.edges[j][ar.edge_value_field];if(ai>H){H=ai}if(ai<aj){aj=ai}v+=ai}L[W[ar.node_id_field]]["edge_max"]=H;L[W[ar.node_id_field]]["edge_min"]=aj;L[W[ar.node_id_field]]["edge_sum"]=v;if(H>T){T=H}if(aj<o){o=aj}O+=v}var E=360/ar.data.length;var ab=S.smithgraph["bar-width"]?S.smithgraph["bar-width"]:E;var w=(ak-M-S.smithgraph["bar-min-height"])/(aq-Q);var A=0,R,aw=[],aa;var J,av,I,au,G,at,ao,n;var z,an,af;var ah=[];for(ap=0;ap<ar.data.length;++ap){W=ar.data[ap][ar.node_value_field];n=M+S.smithgraph["bar-min-height"]+w*(W-Q);R=S.color[(ap%S.color.length)];D=[];ag=P+M*Math.cos(A*s);ad=N+M*Math.sin(A*s);D.push("M"+ag+","+ad);ag=P+n*Math.cos(A*s);ad=N+n*Math.sin(A*s);D.push("L"+ag+","+ad);ag=P+n*Math.cos((A+ab)*s);ad=N+n*Math.sin((A+ab)*s);D.push("L"+ag+","+ad);ag=P+M*Math.cos((A+ab)*s);ad=N+M*Math.sin((A+ab)*s);D.push("L"+ag+","+ad);D.push("Z");z=q.path(D.join("")).attr({fill:R.color,"fill-opacity":R["light-alpha"],stroke:R.color,"stroke-opacity":R["dark-alpha"],"stroke-width":S.smithgraph["bar-border-width"]}).translate(0.5,0.5);z.data("color-alpha",R["light-alpha"]);z.data("index",ap);aw.push(z);if(ae&&typeof(ae)==="function"){z.data("info",{type:"node",start:A,angle:ab,value:ar.data[ap][ar.node_value_field],data:ar.data[ap]});z.click(X)}ah.push({label:ar.data[ap][ar.node_label_field],color:R,type:"box"});if(ar.node_tooltip_title||ar.node_tooltip_content){var Z=ar.node_tooltip_title;var B=ar.node_tooltip_content;for(var al in ar.data[ap]){Z=Z.replace("{"+al+"}",ar.data[ap][al]);B=B.replace("{"+al+"}",ar.data[ap][al])}z.data("tooltip",{id:ap,title:Z,content:B,color:R,x:P+ak*Math.cos((A+ab/2)*s),y:N+ak*Math.sin((A+ab/2)*s)});z.hover(V)}L[ar.data[ap][ar.node_id_field]]["start"]=A;L[ar.data[ap][ar.node_id_field]]["end"]=A+E;A+=E}A=0;for(ap=0;ap<ar.data.length;++ap){var Y=L[ar.data[ap][ar.node_id_field]],u;var r=E/Y.edge_sum;var K,t,F=A,m;var ax=M-S.smithgraph["edge-margin"];if(r==Infinity){r=E}for(j=0;j<Y.node["edges"].length;++j){K=Y.node["edges"][j];u=L[K.to];t=r*K[ar.edge_value_field];R=S.smithgraph["edge-color"][Math.floor((S.smithgraph["edge-color"].length-1)*(K[ar.edge_value_field]-o)/(T-o))];D=[];ag=P+ax*Math.cos(F*s);ad=N+ax*Math.sin(F*s);D.push("M"+ag+","+ad);J=P+ax*Math.cos((u.start+u.end)/2*s);av=N+ax*Math.sin((u.start+u.end)/2*s);D.push("L"+J+","+av);G=P+ax*Math.cos((F+t)*s);at=N+ax*Math.sin((F+t)*s);D.push("L"+G+","+at);D.push("Z");m=q.path(D.join("")).attr({fill:R.color,"fill-opacity":S.smithgraph["edge-background-alpha"],stroke:R.color,"stroke-opacity":R["dark-alpha"],"stroke-width":S.smithgraph["edge-border-width"]}).translate(0.5,0.5);F+=t}A+=E}c.draw_legend(q,C,ah,S)};c.draw_heatmap=function(C,w,T,u,s,z){if(!C||!T){return k("Paper or Data is empty.")}var o=g(u),D=[],B,A,M,L,P;var Q=function(p){s.call(z,this.data("info"))};var n=function(p){B=this.data("tooltip")["x"];A=this.data("tooltip")["y"];c.draw_tooltip(C,B,A,this.data("tooltip")["id"],this.data("tooltip")["title"],this.data("tooltip")["content"],this.data("tooltip")["color"],o)};var K=-Infinity,G=Infinity;for(M=0;M<T.data.length;++M){P=T.data[M];if(P[T.value_field]>K){K=P[T.value_field]}if(P[T.value_field]<G){G=P[T.value_field]}}var r=1,q=1;if(o.heatmap["horizontal-count"]>0){r=o.heatmap["horizontal-count"];q=Math.ceil(T.data.length/r)}else{if(o.heatmap["vertical-count"]>0){q=o.heatmap["vertical-count"];r=Math.ceil(T.data.length/q)}else{r=Math.floor(Math.sqrt(T.data.length));q=r}}var O=1,N=1;O=(w.width-((r-1)*o.heatmap["horizontal-margin"]))/r;N=(w.height-((q-1)*o.heatmap["vertical-margin"]))/q;var v,R,t,m,S;if(o.heatmap["color"]&&o.heatmap["color"].length>0){R=o.heatmap["color"]}else{R=o.color}A=w["top-left"][1];index=0;var E=false,I=[],H=[];S=undefined;for(L=0;L<q;++L){B=w["top-left"][0];for(M=0;M<r;++M){if(!T.data[index]){E=true;break}t=T.data[index][T.value_field];v=R[Math.floor((t-G)*((R.length-1)/(K-G)))];m=C.rect(B,A,O,N).attr({fill:v.color,"fill-opacity":v["dark-alpha"],stroke:v.color,"stroke-opacity":v["dark-alpha"],"stroke-width":o.heatmap["box-border-width"]}).translate(0.5,0.5);I.push(m);if(O>o.heatmap["label-size"]&&N>o.heatmap["label-size"]){S=C.text(B+O/2,A+N/2,T.data[index][T.label_field]).attr({fill:o.heatmap["label-color"],"fill-opacity":o.heatmap["label-alpha"],"font-size":o.heatmap["label-size"]}).translate(0.5,0.5);H.push(S)}if(s&&typeof(s)==="function"){m.data("info",{x:B,y:A,data:T.data[index]});S.data("info",{x:B,y:A,data:T.data[index]});m.click(Q);S.click(Q)}if(T.tooltip_title||T.tooltip_content){var U=T.tooltip_title;var J=T.tooltip_content;for(var F in T.data[index]){U=U.replace("{"+F+"}",T.data[index][F]);J=J.replace("{"+F+"}",T.data[index][F])}m.data("tooltip",{id:index,title:U,content:J,color:v,x:B+O/2,y:A});m.hover(n);if(S){S.data("tooltip",{id:index,title:U,content:J,color:v,x:B+O/2,y:A});S.hover(n)}}B+=O+o.heatmap["horizontal-margin"];++index}if(E){break}A+=N+o.heatmap["vertical-margin"]}};c.draw_tagcloud=function(n,D,ae,N,Y,V){if(!n||!ae){return k("Paper or Data is empty.")}var M=g(N),E=[],Z,X,ac,ab,P;var F=M.tagcloud["levels"]?M.tagcloud["levels"]:8;var Q=function(p){Y.call(V,this.data("info"))};var O=function(p){Z=this.data("tooltip")["x"];X=this.data("tooltip")["y"];c.draw_tooltip(n,Z,X,this.data("tooltip")["id"],this.data("tooltip")["title"],this.data("tooltip")["content"],this.data("tooltip")["color"],M)};var w=-Infinity,T=Infinity,v=0;for(ac=0;ac<ae.data.length;++ac){P=ae.data[ac];if(P[ae.value_field]>w){w=P[ae.value_field]}if(P[ae.value_field]<T){T=P[ae.value_field]}v+=P[ae.text_field].length}var q=[],r,m,B;for(ac=0;ac<ae.data.length;++ac){P=ae.data[ac];r=Math.floor((F-1)*(P[ae.value_field]-T)/(w-T));this_size=M.tagcloud["text-min-size"]+Math.floor(r*(M.tagcloud["text-max-size"]-M.tagcloud["text-min-size"])/F);m=n.text(-1000,-1000,P[ae.text_field]).attr({"font-size":this_size}).translate(0.5,0.5);B=m.getBBox();q.push({value:P[ae.value_field],text:P[ae.text_field],size:this_size,length:P[ae.text_field].length,level:r,width:B.width,height:B.height,index:ac})}var H=D["top-left"][0]+D.width/2;var G=D["top-left"][1]+D.height/2;var ad=M.tagcloud["row-count"],U=[];for(ac=0;ac<ad;++ac){U.push({node:[]})}if(ad%2===0){G-=M.tagcloud["text-max-size"]/2}q.sort(function(x,p){return p.size-x.size});for(ac=0;ac<q.length;++ac){U[ac%U.length]["node"].push(q[ac])}var s=[],W,af=[];var o=0,L,K,A,z,J,I;var u,t,S=0;for(ac=0;ac<U.length;++ac){if(ac===0){Z=H;X=G;L=X;K=X}else{Z=H;if(ac%2===0){X=L-o;L=X}else{X=K+o;K=X}}A=0;z=0;J=0;I=0;o=-Infinity;for(ab=0;ab<U[ac]["node"].length;++ab){P=U[ac]["node"][ab];this_color=M.tagcloud["color"][Math.floor((M.tagcloud["color"].length-1)*(P.level/(F-1)))];if(ab===0){u=Z;t=X;J=P.width+M.tagcloud["horizontal-margin"];I=P.width+M.tagcloud["horizontal-margin"]}else{if(ab%2===0){A-=J/2+P.width/2;u=Z+A;J=P.width+M.tagcloud["horizontal-margin"]}else{z+=I/2+P.width/2;u=Z+z;I=P.width+M.tagcloud["horizontal-margin"]}}if(P.height>o){o=P.height+M.tagcloud["vertical-margin"]}af.push({x:u,y:t,item:P,color:this_color,data:ae.data[P.index]});S++}}for(ac=af.length-1;ac>=0;--ac){W=n.text(af[ac]["x"],af[ac]["y"],af[ac]["item"]["text"]).attr({"font-size":af[ac]["item"]["size"],fill:af[ac]["color"]["color"],"fill-opacity":af[ac]["color"]["dark-alpha"],"text-anchor":"middle"}).translate(0.5,0.5);s.push(W);if(Y&&typeof(Y)==="function"){W.data("info",{data:af[ac]["data"],item:af[ac]["item"],x:af[ac]["x"],y:af[ac]["y"]});W.click(Q)}if(ae.tooltip_title||ae.tooltip_content){var R=ae.tooltip_title;var C=ae.tooltip_content;for(var aa in af[ac]["data"]){R=R.replace("{"+aa+"}",af[ac]["data"][aa]);C=C.replace("{"+aa+"}",af[ac]["data"][aa])}W.data("tooltip",{id:ac,title:R,content:C,color:this_color,x:af[ac]["x"],y:af[ac]["y"]});W.hover(O)}}for(ac=0;ac<s.length;++ac){(function(p){p.mouseover(function(){p.animate({transform:"s1.5"},M.layout["speed"],">")});p.mouseout(function(){p.animate({transform:""},M.layout["speed"],"<")})})(s[ac])}};var f=function(n,o){if(typeof(o)==="object"&&(o instanceof Array)){for(var m=0;m<o.length;++m){if(n==o[m]){return m}}}return -1};var g=function(n){if(!n){return c.options}var m={},r,o;for(r in c.options){if(typeof(c.options[r])==="object"&&(c.options[r] instanceof Array)){m[r]=[]}else{m[r]={}}for(o in c.options[r]){m[r][o]=c.options[r][o]}}for(r in n){for(o in n[r]){m[r][o]=n[r][o]}}return m};var b=function(n){var m=g(n);if(h){var q=h;q.stop();q.animate({opacity:0},m.layout["speed"],function(){q.remove();delete q})}if(l){var o=l;o.stop();o.animate({opacity:0},m.layout["speed"],function(){o.remove();delete o})}if(a){var p=a;p.stop();p.animate({opacity:0},m.layout["speed"],function(){p.remove();delete p})}};var i=function(n){var m=function(){return(((1+Math.random())*65536)|0).toString(16).substring(1)};if(n==="long"){return(m()+m()+"-"+m()+"-"+m()+"-"+m()+"-"+m()+m()+m())}else{return(m()+m())}};var k=function(m){if(console&&typeof(console.log)==="function"){console.log(m)}else{alert(m)}};c.global_option=function(m){c.options=g(m)};c.enable_logo=function(){c.options.layout["logo-enabled"]=true};window.InfoViz=c})();